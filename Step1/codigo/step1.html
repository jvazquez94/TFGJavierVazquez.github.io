﻿
<!DOCTYPE html>
<html>
<head>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.3.2/dist/aframe-environment-component.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-physics-system@v4.1.0/dist/aframe-physics-system.js"></script>
    <script src="https://unpkg.com/super-hands@^3.0.3/dist/super-hands.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.misc.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@^4.1.1/dist/aframe-event-set-component.min.js"></script>
    <script async src="https://unpkg.com/es-module-shims@1.6.3/dist/es-module-shims.js"></script>
    <script type="importmap">
        {
          "imports": {
            "three": "https://unpkg.com/three@<version>/build/three.module.js",
            "three/addons/": "https://unpkg.com/three@<version>/examples/jsm/"
          }
        }
    </script>
    <script src="dron-movement.js"></script>
</head>
<body>
    <a-scene physics>
        <!--Environment-->
        <a-entity static-body environment></a-entity>

        <!--Asset Management-->
        <a-assets>
            <a-mixin id="boton" scale="0.2 0.05 0.2" color="red"
                     hoverable clickable
                     event-set__hoveron="_event: hover-start; material.opacity: 0.6; transparent: true"
                     event-set__hoveroff="_event: hover-end; material.opacity: 1; transparent: false"
                     event-set__click="_event: grab-start; scale: 0.2 0.01 0.2"
                     event-set__desclick="_event: grab-end; scale: 0.2 0.05 0.2">
            </a-mixin>
        </a-assets>

        <!--Camara-->
        <a-entity camera look-controls wasd-controls position="0 1 0">
            <a-entity position="0 0 -1"
                      capture-mouse raycaster cursor="rayOrigin: mouse"
                      static-body="shape: sphere; sphereRadius: 0.001"
                      super-hands="colliderEvent: raycaster-intersection;
                                    colliderEventProperty: els;
                                    colliderEndEvent: raycaster-intersection-cleared;
                                    colliderEndEventProperty: clearedEls;">
            </a-entity>
        </a-entity>

        <!--Dron-->
        <a-entity wasd-conrols dron-movenent id="dron" position="0 1 -3">
            <a-box material="color: white" scale="0.5 0.5 0.5">
                <a-box static-body material="transparent: true" scale= "0.52 0.52 0.52"></a-box>
            </a-box>
        </a-entity>
        <!-------->
        <!--Controles-->

        <!--Botones arriba/abajo-->
        <a-box dron-movement class="boton" id="boton_arriba" mixin="boton" position="-0.4 0.2 -2"
               color="yellow"></a-box>
        <a-box class="boton" id="boton_abajo" mixin="boton" position="-0.8 0.2 -2"
               color="yellow"></a-box>

        <!--Botones izquierda derecha
        <a-box class="boton" id="boton_izq" mixin="boton" position="0 0.2 -2" color="red"></a-box>
        <a-box class="boton" id="boton_drch" mixin="boton" position="0.50 0.2 -2" color="red"></a-box>

        <!--Botones delante/atrás
        <a-box class="boton" id="boton_atras" mixin="boton" position="0.25 0.2 -1.65" color="red"></a-box>
        <a-box class="boton" id="boton_delante" mixin="boton" position="0.25 0.2 -2.35" color="red"></a-box>
        -->
    </a-scene>
</body>
</html>